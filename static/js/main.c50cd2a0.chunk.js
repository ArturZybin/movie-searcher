(this["webpackJsonpmovie-searcher"]=this["webpackJsonpmovie-searcher"]||[]).push([[0],{13:function(e,t,n){e.exports=n(21)},20:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),o=n(11),r=n.n(o),c=n(1),i=n.n(c),m=n(12),s=n(2),u=n(3),p=n(4),E=n(6),h=n(5),d=n(7);var f=function(e){return l.a.createElement("div",{className:e.isClosed?"filter filter_closed":"filter"},l.a.createElement("div",{className:"filter__select"},l.a.createElement("select",{name:"type",onChange:function(t){return e.handleTypeChange(t.target.value)}},l.a.createElement("option",{value:""},"Select what to search"),l.a.createElement("option",null,"Movie"),l.a.createElement("option",null,"Series"),l.a.createElement("option",null,"Episode"))),l.a.createElement("div",{className:"filter__select"},l.a.createElement("select",{name:"genre",onChange:function(t){return e.handleGenreChange(t.target.value)}},l.a.createElement("option",{value:""},"Select genre"),l.a.createElement("option",null,"Action"),l.a.createElement("option",null,"Adventure"),l.a.createElement("option",null,"Animation"),l.a.createElement("option",null,"Biography"),l.a.createElement("option",null,"Comedy"),l.a.createElement("option",null,"Crime"),l.a.createElement("option",null,"Documentary"),l.a.createElement("option",null,"Drama"),l.a.createElement("option",null,"Fantasy"),l.a.createElement("option",null,"Horror"),l.a.createElement("option",null,"Music"),l.a.createElement("option",null,"Sci-Fi"),l.a.createElement("option",null,"War"),l.a.createElement("option",null,"Western"))),l.a.createElement("div",{className:"filter__select"},l.a.createElement("select",{name:"year",onChange:function(t){return e.handleYearChange(t.target.value)}},l.a.createElement("option",{value:""},"Select year"),l.a.createElement("option",null,"2020"),l.a.createElement("option",null,"2019"),l.a.createElement("option",null,"2018"),l.a.createElement("option",null,"2017"),l.a.createElement("option",null,"2016"),l.a.createElement("option",null,"2015"),l.a.createElement("option",null,"2014"),l.a.createElement("option",null,"2013"),l.a.createElement("option",null,"2012"),l.a.createElement("option",null,"2011"),l.a.createElement("option",null,"2010"),l.a.createElement("option",null,"2009"),l.a.createElement("option",null,"2008"),l.a.createElement("option",null,"2007"),l.a.createElement("option",null,"2006"),l.a.createElement("option",null,"2005"),l.a.createElement("option",null,"2004"),l.a.createElement("option",null,"2003"),l.a.createElement("option",null,"2002"),l.a.createElement("option",null,"2001"),l.a.createElement("option",null,"2000"),l.a.createElement("option",null,"1999"),l.a.createElement("option",null,"1998"),l.a.createElement("option",null,"1997"),l.a.createElement("option",null,"1996"),l.a.createElement("option",null,"1995"),l.a.createElement("option",null,"1994"),l.a.createElement("option",null,"1993"),l.a.createElement("option",null,"1992"),l.a.createElement("option",null,"1991"),l.a.createElement("option",null,"1990"),l.a.createElement("option",null,"1989"),l.a.createElement("option",null,"1988"),l.a.createElement("option",null,"1987"),l.a.createElement("option",null,"1986"),l.a.createElement("option",null,"1985"),l.a.createElement("option",null,"1984"),l.a.createElement("option",null,"1983"),l.a.createElement("option",null,"1982"),l.a.createElement("option",null,"1981"),l.a.createElement("option",null,"1980"),l.a.createElement("option",null,"1979"),l.a.createElement("option",null,"1978"),l.a.createElement("option",null,"1977"),l.a.createElement("option",null,"1976"),l.a.createElement("option",null,"1975"),l.a.createElement("option",null,"1974"),l.a.createElement("option",null,"1973"),l.a.createElement("option",null,"1972"),l.a.createElement("option",null,"1971"),l.a.createElement("option",null,"1970"),l.a.createElement("option",null,"1969"),l.a.createElement("option",null,"1968"),l.a.createElement("option",null,"1967"),l.a.createElement("option",null,"1966"),l.a.createElement("option",null,"1965"),l.a.createElement("option",null,"1964"),l.a.createElement("option",null,"1963"),l.a.createElement("option",null,"1962"),l.a.createElement("option",null,"1961"),l.a.createElement("option",null,"1960"),l.a.createElement("option",null,"1959"),l.a.createElement("option",null,"1958"),l.a.createElement("option",null,"1957"),l.a.createElement("option",null,"1956"),l.a.createElement("option",null,"1955"),l.a.createElement("option",null,"1954"),l.a.createElement("option",null,"1953"),l.a.createElement("option",null,"1952"),l.a.createElement("option",null,"1951"),l.a.createElement("option",null,"1950"),l.a.createElement("option",null,"1949"),l.a.createElement("option",null,"1948"),l.a.createElement("option",null,"1947"),l.a.createElement("option",null,"1946"),l.a.createElement("option",null,"1945"),l.a.createElement("option",null,"1944"),l.a.createElement("option",null,"1943"),l.a.createElement("option",null,"1942"),l.a.createElement("option",null,"1941"),l.a.createElement("option",null,"1940"),l.a.createElement("option",null,"1939"),l.a.createElement("option",null,"1938"),l.a.createElement("option",null,"1937"),l.a.createElement("option",null,"1936"),l.a.createElement("option",null,"1935"),l.a.createElement("option",null,"1934"),l.a.createElement("option",null,"1933"),l.a.createElement("option",null,"1932"),l.a.createElement("option",null,"1931"),l.a.createElement("option",null,"1930"))))},v=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];return(n=Object(E.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(l)))).state={isFilterClosed:!0,isCentered:!0,title:null,type:null,genre:null,year:null},n.triggerEnterKeySearch=function(e){13===e.keyCode&&n.handleSearch()},n.handleSearch=function(){var e=n.state,t=e.isCentered,a=e.title,l=e.type,o=e.genre,r=e.year;a&&(t&&n.setState({isCentered:!1}),n.props.handleSearch({title:a,type:l,genre:o,year:r}))},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.isCentered,a=t.isFilterClosed;return l.a.createElement("div",{className:n?"searchbar searchbar_centered":"searchbar"},l.a.createElement("input",{className:"searchbar__input",type:"text",placeholder:"Search movies",autoFocus:!0,onChange:function(t){return e.setState({title:t.target.value})},onKeyDown:this.triggerEnterKeySearch}),l.a.createElement("button",{className:"searchbar__filter-button searchbar__button",onClick:function(){return e.setState({isFilterClosed:!a})}}),l.a.createElement("button",{className:"searchbar__search-button searchbar__button",onClick:this.handleSearch}),l.a.createElement(f,{isClosed:a,handleTypeChange:function(t){return e.setState({type:t})},handleGenreChange:function(t){return e.setState({genre:t})},handleYearChange:function(t){return e.setState({year:t})}}))}}]),t}(l.a.Component);var _=function(e){return l.a.createElement("input",{className:"theme-toggler",type:"checkbox",onChange:e.handleToggle})},b=n(9),S=n(8),g=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(E.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).state={isFullDataLoaded:!1,isFullInfoOpened:!1},n.loadFullData=Object(s.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("","movie_response.json"));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,n.setState({isFullDataLoaded:!0,fullData:a});case 7:case"end":return e.stop()}}),e)}))),n.openFullInfo=function(e){e.stopPropagation(),n.state.isFullInfoOpened||(n.state.isFullDataLoaded||n.loadFullData(),n.setState({isFullInfoOpened:!0}))},n.closeFullInfo=function(){n.state.isFullInfoOpened&&n.setState({isFullInfoOpened:!1})},n.renderFullInfo=function(){var e=n.state.fullData,t=e.Ratings.map((function(e){return l.a.createElement("span",{key:e.Source},e.Source,":"," ",l.a.createElement("span",{className:"movie__rating"},e.Value),", ")}));return l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{className:"movie__close-full-info-button",onClick:n.closeFullInfo},"\u2718"),l.a.createElement("div",{className:"movie__runtime movie__label"},e.Runtime),l.a.createElement("div",{className:"movie__common-info"},e.Plot),l.a.createElement("div",{className:"movie__common-info"},l.a.createElement("span",{className:"movie__common-info-title"},"Genre: "),e.Genre),l.a.createElement("div",{className:"movie__common-info"},l.a.createElement("span",{className:"movie__common-info-title"},"Released: "),e.Released),l.a.createElement("div",{className:"movie__common-info"},l.a.createElement("span",{className:"movie__common-info-title"},"Actors: "),e.Actors),l.a.createElement("div",{className:"movie__common-info"},l.a.createElement("span",{className:"movie__common-info-title"},"Director: "),e.Director),l.a.createElement("div",{className:"movie__common-info"},l.a.createElement("span",{className:"movie__common-info-title"},"Box office: "),e.BoxOffice),l.a.createElement("div",{className:"movie__common-info"},l.a.createElement("span",{className:"movie__common-info-title"},"Awards: "),e.Awards),l.a.createElement("div",{className:"movie__common-info"},l.a.createElement("span",{className:"movie__common-info-title"},"Ratings: "),t))},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.data,t=e.Poster,n=e.Title,a=e.Year,o=e.Type,r=this.state,c=r.isFullInfoOpened,i=r.isFullDataLoaded;return l.a.createElement("div",null,l.a.createElement("div",{className:c?"movie-locker":"",onClick:this.closeFullInfo},l.a.createElement("div",{className:c?"movie movie_opened":"movie",onClick:this.openFullInfo},l.a.createElement("img",{className:"movie__poster",src:t,alt:"poster"}),l.a.createElement("h2",{className:"movie__title"},n),l.a.createElement("div",{className:"movie__year movie__label"},a),l.a.createElement("div",{className:"movie__type movie__label"},o),c&&i?this.renderFullInfo():null)))}}]),t}(l.a.PureComponent);var N=function(e){var t=Object(a.useState)(0),n=Object(S.a)(t,2),o=n[0],r=n[1],c=Object(a.useState)(0),m=Object(S.a)(c,2),u=m[0],p=m[1],E=Object(a.useState)([]),h=Object(S.a)(E,2),d=h[0],f=h[1],v=Object(a.useState)(0),_=Object(S.a)(v,2),N=_[0],y=_[1];function O(e){return j.apply(this,arguments)}function j(){return(j=Object(s.a)(i.a.mark((function e(t){var n,a,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t?1:N+1,e.next=3,fetch("".concat("","search_response_").concat(n,"page.json"));case 3:return a=e.sent,e.next=6,a.json();case 6:l=e.sent,r(t?l.Search.length:o+l.Search.length),p(l.totalResults),f(t?Object(b.a)(l.Search):[].concat(Object(b.a)(d),Object(b.a)(l.Search))),y(n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){e.shouldStartNewSearch&&(e.handleSearchStart(),r(0),p(0),f([]),y(0),O(!0))}),[e.shouldStartNewSearch]),l.a.createElement("div",{className:"movies-list"},l.a.createElement("div",{className:"movies-list__movies-container"},d.map((function(e){return l.a.createElement(g,{data:e,key:e.imdbID})}))),u===o?l.a.createElement("button",{className:"movies-list__movies-over"},"That's all"):l.a.createElement("button",{className:"movies-list__show-more-button",onClick:function(){return O(!1)}},"Show more"))},y=(n(19),n(20),function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];return(n=Object(E.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(l)))).state={shouldStartNewSearch:!1,searchData:{},shouldRenderMoviesList:!1,theme:"dark"},n.toggleTheme=function(e){var t=e.target.checked?"light":"dark";n.setState({theme:t})},n.startSearching=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({shouldStartNewSearch:!0,searchData:Object(m.a)({},t,{API_KEY:"fa254bc5"})});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.shouldRenderMoviesList,a=t.searchData,o=t.shouldStartNewSearch;return l.a.createElement("main",{id:"app-root",className:"theme-".concat(this.state.theme)},l.a.createElement(_,{handleToggle:this.toggleTheme}),l.a.createElement(v,{handleSearch:function(){e.startSearching(),e.setState({shouldRenderMoviesList:!0})}}),n&&l.a.createElement(N,{data:a,shouldStartNewSearch:o,handleSearchStart:function(){return e.setState({shouldStartNewSearch:!1})}}))}}]),t}(l.a.Component));r.a.render(l.a.createElement(y,null),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.c50cd2a0.chunk.js.map